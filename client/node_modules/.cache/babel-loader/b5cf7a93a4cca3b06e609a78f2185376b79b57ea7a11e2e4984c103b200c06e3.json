{"ast":null,"code":"var _jsxFileName = \"/Users/meaghann/Desktop/WorkSpace/Project4/client/src/pages/Ask.jsx\",\n  _s = $RefreshSig$();\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport api from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Ask() {\n  _s();\n  const nav = useNavigate();\n  const [params] = useSearchParams();\n  const urlCategory = params.get(\"cat\");\n  const [categoryId, setCategoryId] = useState(\"\");\n  const [cats, setCats] = useState([]);\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n\n  // LOAD CATEGORIES\n  useEffect(() => {\n    api.get(\"/categories\").then(r => setCats(r.data)).catch(() => setCats([]));\n  }, []);\n\n  // AUTO-SELECT category if coming from topic page\n  useEffect(() => {\n    if (urlCategory) setCategoryId(urlCategory);\n  }, [urlCategory]);\n\n  // SUBMIT QUESTION\n  async function submit(e) {\n    e.preventDefault();\n    if (!categoryId) {\n      alert(\"Please select a topic\");\n      return;\n    }\n    try {\n      await api.post(\"/questions\", {\n        title,\n        content,\n        category_id: categoryId,\n        user_id: localStorage.getItem(\"user\")\n      });\n      nav(\"/category/\" + categoryId);\n    } catch (err) {\n      alert(\"Failed to post question\");\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    style: {\n      maxWidth: 600\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Ask Question\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"form-control mb-3\",\n        value: categoryId,\n        onChange: e => setCategoryId(e.target.value),\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select Topic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 1\n        }, this), cats.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: c.id,\n          children: c.name\n        }, c.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 1\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control mb-2\",\n        placeholder: \"Title\",\n        value: title,\n        onChange: e => setTitle(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"form-control mb-3\",\n        placeholder: \"Question\",\n        value: content,\n        onChange: e => setContent(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-dark w-100\",\n        children: \"Post Question\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 1\n  }, this);\n}\n_s(Ask, \"IX9KtylW0qtBPzkfXy05YGk6h8U=\", false, function () {\n  return [useNavigate, useSearchParams];\n});\n_c = Ask;\nvar _c;\n$RefreshReg$(_c, \"Ask\");","map":{"version":3,"names":["useNavigate","useSearchParams","useState","useEffect","api","jsxDEV","_jsxDEV","Ask","_s","nav","params","urlCategory","get","categoryId","setCategoryId","cats","setCats","title","setTitle","content","setContent","then","r","data","catch","submit","e","preventDefault","alert","post","category_id","user_id","localStorage","getItem","err","className","style","maxWidth","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","required","map","c","id","name","placeholder","_c","$RefreshReg$"],"sources":["/Users/meaghann/Desktop/WorkSpace/Project4/client/src/pages/Ask.jsx"],"sourcesContent":["import {useNavigate,useSearchParams} from \"react-router-dom\";\nimport {useState,useEffect} from \"react\";\nimport api from \"../api\";\n\nexport default function Ask(){\n\nconst nav=useNavigate();\nconst [params]=useSearchParams();\n\nconst urlCategory=params.get(\"cat\");\n\nconst [categoryId,setCategoryId]=useState(\"\");\nconst [cats,setCats]=useState([]);\n\nconst [title,setTitle]=useState(\"\");\nconst [content,setContent]=useState(\"\");\n\n\n// LOAD CATEGORIES\nuseEffect(()=>{\napi.get(\"/categories\")\n.then(r=>setCats(r.data))\n.catch(()=>setCats([]));\n},[]);\n\n\n// AUTO-SELECT category if coming from topic page\nuseEffect(()=>{\nif(urlCategory) setCategoryId(urlCategory);\n},[urlCategory]);\n\n\n// SUBMIT QUESTION\nasync function submit(e){\n\ne.preventDefault();\n\nif(!categoryId){\nalert(\"Please select a topic\");\nreturn;\n}\n\ntry{\n\nawait api.post(\"/questions\",{\ntitle,\ncontent,\ncategory_id:categoryId,\nuser_id:localStorage.getItem(\"user\")\n});\n\nnav(\"/category/\"+categoryId);\n\n}catch(err){\nalert(\"Failed to post question\");\n}\n\n}\n\n\nreturn(\n\n<div className=\"container mt-4\" style={{maxWidth:600}}>\n\n<h2>Ask Question</h2>\n\n<form onSubmit={submit}>\n\n<select\nclassName=\"form-control mb-3\"\nvalue={categoryId}\nonChange={e=>setCategoryId(e.target.value)}\nrequired\n>\n\n<option value=\"\">Select Topic</option>\n\n{cats.map(c=>\n\n<option key={c.id} value={c.id}>\n{c.name}\n</option>\n\n)}\n\n</select>\n\n\n<input\nclassName=\"form-control mb-2\"\nplaceholder=\"Title\"\nvalue={title}\nonChange={e=>setTitle(e.target.value)}\nrequired\n/>\n\n<textarea\nclassName=\"form-control mb-3\"\nplaceholder=\"Question\"\nvalue={content}\nonChange={e=>setContent(e.target.value)}\nrequired\n/>\n\n<button className=\"btn btn-dark w-100\">\nPost Question\n</button>\n\n</form>\n\n</div>\n\n);\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}